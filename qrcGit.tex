% vim:fdm=marker:filetype=tex:ts=2:expandtab
% GIT Quick Reference Card
% Copyright (c) 2014 Jonas Petong.
% TeX Format - Based on VIM Quick Reference Card

% compile as 'pdftex git-qrc.tex'

\def\versionnumber{1.1}  % Version of this reference card
\def\year{2014}
\def\month{May}
\def\version{v\versionnumber\ \month\ \year}

\def\shortcopyrightnotice{\smallskip
  \centerline{\smallrm \copyright\ \year\ Jonas Petong -
  Permissions on back. \version}}

\def\shortintro{\smallskip
\centerline{\smallrm QRC of most often used GIT commands -- Version \version}}

\def\copyrightnotice{
\vfill
\hrule\smallskip\begingroup\smallrm
% \centerline{\version. Copyright \copyright\ \year\ Jonas Petong}
\centerline{http://github.com/emzap79/QRCs}
\centerline{emzap79@gmail.com}\\
This TeXfile is based on Gabriel B. Burcas \copyright\ git-qrc.tex
and has then been modified to my own use.
\endgroup}

% \pdfoutput=1
\pdfpageheight=21cm
\pdfpagewidth=29.7cm

% Font definitions
\font\bigbf=cmbx12
\font\smallrm=cmr8
\font\smalltt=cmtt8
\font\tinyit=cmmi5

% \def\title#1{\hfil{\bf #1}\hfil\par\vskip 2pt\hrule}
% \def\section#1{\vskip 0.7cm {\it#1\/}\par\vskip 1pt\hrule}

\def\title#1{\hfil{\bf #1}\hfil\par\vskip 2pt\hrule}
\def\section#1#2{\vskip 0.7cm {\bf#1}\par\vskip 1pt\hrule\vskip 1pt#2\vskip 5pt}
\def\subsection#1#2{\vskip 0.7cm {#1\/}\par\vskip 1pt\hrule\vskip 1pt#2\vskip 5pt}
% \def\subsubsection#1#2{\vskip 0.7cm {#1\/}\par\vskip 1pt\hrule\vskip 1pt#2\vskip 5pt}
\def\subsubsection#1{\vskip 0.7cm {#1\/}\par\vskip 1pt\vskip 1pt}
% \def\subsubsection#1{\vskip 0.7cm \hskip 1em {- #1\/}\par\vskip 1pt\vskip 1pt}
% Characters definitions
\def\\{\hfil\break}
\def\bs{$\backslash$}
\def\backspace{$\leftarrow$}
\def\ctrl{{\rm\char94}\kern-1pt}
\def\enter{$\hookleftarrow$}
\def\or{\thinspace{\tinyit{or}}\thinspace}
\def\key#1{$\langle${\rm{\it#1\/}}$\rangle$}
\def\rapos{\char125}
\def\lapos{\char123}
\def\bs{\char92}
\def\tild{\char126}
\def\lbracket{[}
\def\rbracket{]}

% Three columns definitions
\parindent 0pt
\nopagenumbers
\hoffset=-1.56cm
\voffset=-1.54cm
\newdimen\fullhsize
\fullhsize=27.9cm
\hsize=8.5cm
\vsize=19cm
\def\fullline{\hbox to\fullhsize}
\let\lr=L
\newbox\leftcolumn
\newbox\midcolumn
\output={
  \if L\lr
    \global\setbox\leftcolumn=\columnbox
    \global\let\lr=M
  \else\if M\lr
    \global\setbox\midcolumn=\columnbox
    \global\let\lr=R
  \else
    \tripleformat
    \global\let\lr=L
  \fi\fi
  \ifnum\outputpenalty>-20000
  \else
    \dosupereject
  \fi}
\def\tripleformat{
  \shipout\vbox{\fullline{\box\leftcolumn\hfil\box\midcolumn\hfil\columnbox}}
  \advancepageno}
\def\columnbox{\leftline{\pagebody}}

% GIT optimizations
\def\cmd#1{{\tt#1}\null}	%\null so not an abbrev even if period follows
\def\gray#1{\pdfliteral{0.65 0.65 0.65 rg}#1\pdfliteral{0 0 0 rg}}
\def\black#1{\pdfliteral{0 0 0 rg}#1\pdfliteral{0.65 0.65 0.65 rg}}

% A short command%{{{

\def\cmdS#1#2{
  \noindent
  \hbox to \hsize {%
    \vtop{
      \hbox to 2.4cm {
        \noindent\cmd{#1}\dotfill
      }
      %\hrule
    }%
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 15pt \vtop{
      {#2}
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 0.14cm
}

%}}}
% A long command%{{{

\def\cmdL#1#2{
  \hsize=8.5cm
  \vbox {
    \hbox{
        \cmd{#1}\hfil
    }%
    %\vskip -0.2cm % adjusts space b/w command & description
    \hskip 2.5cm  % indent for description
    \hbox to 5.9cm {%
      \hfuzz = 5pt
      % Use the first one when right-aligned
      %\vrule\hskip -0.05cm
      %\vrule\hskip 0.05cm
      \hfil
      \hsize=5.9cm
      \vtop{
        %\hrule
        % Uncomment line below to right-align description
        %\leftskip=0cm plus 150fil
        {#2}
        }}
  }%
  %\hrule
  \par
  \vskip 0.14cm
}

%}}}
% A short option-command%{{{

\def\cmdOpt#1#2{
  \noindent
  \hbox to \hsize {% This comment is needed to remove space at start of line
    \vtop{
      \hbox to 2.4cm {
      % \hfuzz = 5pt
      \hskip 24pt
      \hfil
      % \hsize=1.9cm
      \noindent\cmd{\tt-#1}
      }
      %\hrule
    }% This comment is needed to remove space
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 15pt \vtop{
      % Uncomment line below to right-align description
      %\leftskip=0cm plus 150fil
      {#2}
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 0.14cm
}

%}}}
% A long option-command%{{{

\def\cmdOptL#1#2{
  \noindent
  \hbox to \hsize {% This comment is needed to remove space at start of line
    \vtop{
      \hbox to 2.4cm {
      %\hfuzz = 5pt
      %\hsize=5.9cm
      \hskip 15pt
      \noindent\cmd{\tt--#1}
      \hfil
      }
      %\hrule
    }% This comment is needed to remove space
    \hfil	% absorb extra space b/w columns
    \vtop{
      \hsize=5.90cm
      \hbox{\hfuzz = 15pt \vtop{
      {#2}
      }}
      %\hrule
    }
  }
  %\hrule
  \par
  \vskip 0.14cm
}

%}}}
% A very long option-command%{{{

\def\cmdOptLl#1#2{
    \hsize=8.5cm
    \vbox {
        \hbox{
      \hskip 15pt
      \noindent\cmd{\tt--#1}
      \hfil
        }%
        \hskip 70pt  % indent for description
        \hbox to 5.9cm {%
            \hfuzz = 5pt
            \hfil
            \hsize=5.9cm
            \vtop{
                {#2}
            }}
    }%
    %\hrule
    \par
    \vskip 0.14cm
}

%}}}

% Card content
% Header
\title{GIT QUICK REFERENCE CARD}

% \shortcopyrightnotice
\shortintro

\section{Main commands}{}
\cmdS{add}	{Add file contents to the index}
\cmdOpt{A [:/]}	{adds all file changes including deletions to the staging area [for the whole tree]}
\cmdOpt{f}	{allow adding otherwise ignored files}
\cmdOpt{p}	{choose hunks of patch between the index and the work tree and add them to the index}
\gray{\cmdS{am}	{Apply a series of patches from a mailbox}}
\gray{\cmdS{archive}	{Create an archive of files from a named tree}}
\gray{\cmdS{bisect}	{Find by binary search the change that introduced a bug}}
\cmdS{branch}	{List, create, or delete branches}
\cmdOpt{a}	{lists all branches including the remote branches}
\cmdOpt{d}	{delete {\tt \dots branch}}
\cmdOpt{m}	{rename branch: \dots {\tt old\_name new\_name}}
\cmdOpt{v}	{lists more information about the branches}
\gray{\cmdS{bundle}	{Move objects and refs by archive}}
\cmdS{checkout}	{Checkout a branch or paths to the working tree (prepend {\tt --} before path to avoid ambiguousity).}
\cmdOpt{b}	{create a branch {\tt new\_name} and switch to it instantly}
\cmdS{cherry-pick}	{can be used to change order of commits}
\gray{\cmdS{citool}	{Graphical alternative tocommit}}
\cmdS{clean}	{Remove untracked files from the working tree}
\cmdOpt{f}	{force (required!)}
\cmdOpt{x}	{include hidden files}
\cmdOpt{d}	{directories as well}
\cmdS{clone}	{Clone a repository into a new directory}
\cmdS{commit}	{Record changes to the repository}
\cmdOpt{a}	{adding changes of files known by the Git repository to the commit}
\cmdOpt{m}	{Set comment for commitment -- correct it with prepending {\tt --amend} to argument}
\gray{\cmdS{describe}	{Show the most recent tag that is reachable from a commit}}
\cmdS{diff}	{Show changes between commits, commit and working tree, etc.}
\cmdOptL{cached}	{compare working tree to index (stage area)}
\gray{\cmdS{fetch}	{Download objects and refs from another repository}}
\gray{\cmdS{format-patch}	{Prepare patches for e-mail submission}}
\gray{\cmdS{gc}	{Cleanup unnecessary files and optimize the local repository}}
\gray{\cmdS{grep}	{Print lines matching a pattern}}
\gray{\cmdS{gui}	{A portable graphical interface to Git}}
\cmdS{init}	{Create an empty git repository or reinitialize an existing one}
\cmdS{log}	{Show commit logs (prepend {\tt --} before path to avoid ambiguousity)}
\cmdOpt{p}	{show diffs of each commit}
\cmdOptL{stat}	{precise output with some stats}
\cmdOptLl{abbrev-commit}	{shortend (but unique) SHA-1 values for the commit objects }
\cmdOptL{oneline}	{show logs as shortened oneliner}
\cmdOptL{reverse}	{reverse log-history output}
\cmdOptL{follow}	{entire history including renames}
\cmdS{merge}	{Join two or more development histories together}
\cmdOpt{s}	{specify your merge strategy (see {\tt man git-merge})}Apply the change introduced by an existing commit
\cmdOpt{X}	{apply option to strategy}
\cmdOptL{ff}	{only update the branch pointer, without creating a merge commit (default)}
\gray{\cmdS{mv}	{Move or rename a file, a directory, or a symlink}}
\gray{\cmdS{notes}	{Add/inspect commit notes}}
\cmdS{pull}	{Fetch from and merge with another re\-pository or a local branch}
\cmdS{push}	{Update remote refs along with associated objects}
\cmdS{rebase}	{Forward-port local commits to the updated upstream head}
\cmdOpt{i}	{rebase interactively}
\cmdOptLl{autosquash}	{When the commit log message begins with "squash! ..." (or "fixup! ..."), automatically modify the todo list of {\tt rebase -i} }
\cmdS{reset}	{Reset current HEAD to the specified state (Remove a $file$ from staging area)}
\cmdOptL{soft}	{move HEAD pointer only}
\cmdOptL{mixed}	{resets staging area to new HEAD (default!)}
\cmdOptL{hard}	{resets staging area and working tree to new HEAD}
\gray{\cmdS{revert}	{Revert an existing commit}}
\cmdS{rm}	{Remove files from the working tree and from the index}
\cmdOpt{r}	{remove recursive -- for removing additionally from repo, add
{\tt --cached *}}
\gray{\cmdS{shortlog}	{Summarize git log output}}
\cmdS{show}	{Show various types of objects}
\gray{\cmdS{stash}	{Stash the changes in a dirty working directory away}}
\cmdS{status}	{Show the working tree status}
\cmdS{submodule}	{Initialize, update, add or inspect submodules}
\cmdOptLl{recurse-submodules}	{pull changes from main repo + submodules}
\gray{\cmdS{tag}	{Create, list, delete or verify a tag object signed with GPG}}
\gray{\cmdS{gitk}	{The git repository browser}}

\section{Manipulators}{}
\gray{\cmdS{config}	{Get and set repository or global options}}
\gray{\cmdS{fast-export}	{Git data exporter}}
\gray{\cmdS{fast-import}	{Backend for fast Git data importers}}
\gray{\cmdL{filter-branch}	{Rewrite branches}}
\gray{\cmdS{mergetool}	{Run merge conflict resolution tools to resolve merge conflicts}}
\gray{\cmdS{pack-refs}	{Pack heads and tags for efficient repository access}}
\gray{\cmdS{prune}	{Prune all unreachable objects from the object database}}
\gray{\cmdS{reflog}	{Manage reflog information}}
\gray{\cmdS{relink}	{Hardlink common objects in local repositories}}
\black{\cmdS{remote}	{Manage set of tracked repositories}}
\black{\cmdOpt{v}	{show details about the remotes}}
\gray{\cmdS{repack}	{Pack unpacked objects in a repository}}
\gray{\cmdS{replace}	{Create, list, delete refs to replace objects}}

\section{Interrogators}{}
\gray{\cmdS{annotate}	{Annotate file lines with commit information}}
\gray{\cmdS{blame}	{\emergencystretch=5pt Show what revision and author last modified each line of a file}}
\gray{\cmdS{cherry}	{Find commits not merged upstream}}
\gray{\cmdL{count-objects}	{Count unpacked number of objects and their disk consumption}}
\gray{\cmdS{difftool}	{Show changes using common diff tools}}
\gray{\cmdS{fsck}	{Verifies the connectivity and validity of the objects in the database}}
\gray{\cmdL{get-tar-commit-id}	{Extract commit ID from an archive created usingarchive}}
\gray{\cmdS{help}	{Display help information about git}}
\gray{\cmdS{instaweb}	{Instantly browse your working repository in gitweb}}
\gray{\cmdS{merge-tree}	{Show three-way merge without touching index}}
\gray{\cmdS{rerere}	{Reuse recorded resolution of conflicted merges}}
\gray{\cmdS{rev-parse}	{Pick out and massage parameters}}
\gray{\cmdS{show-branch}	{Show branches and their commits}}
\gray{\cmdS{verify-tag}	{Check the GPG signature of tags}}
\gray{\cmdS{whatchanged}	{Show logs with difference each commit introduces}}

\section{Interacting with Others}{}
\gray{\cmdS{archimport}	{Import an Arch repository into git}}
\gray{\cmdL{cvsexportcommit}	{Export a single commit to a CVS checkout}}
\gray{\cmdS{cvsimport}	{Salvage your data out of another SCM people love to hate}}
\gray{\cmdS{cvsserver}	{A CVS server emulator for git}}
\gray{\cmdS{imap-send}	{Send a collection of patches from stdin to an IMAP folder}}
\gray{\cmdS{quiltimport}	{Applies a quilt patchset onto the current branch}}
\gray{\cmdS{request-pull}	{Generates a summary of pending chan\-ges}}
\gray{\cmdS{send-email}	{Send a collection of patches as emails}}
\gray{\cmdS{svn}	{Bidirectional operation between a Subversion repository and git}}

\section{Manipulators (plumbing)}{}
\gray{\cmdS{apply}	{Apply a patch to files and/or to the index}}
\gray{\cmdL{checkout-index}	{Copy files from the index to the working tree}}
\gray{\cmdS{commit-tree}	{Create a new commit object}}
\gray{\cmdS{hash-object}	{Compute object ID and optionally creates a blob from a file}}
\gray{\cmdS{index-pack}	{Build pack index file for an existing packed archive}}
\gray{\cmdS{merge-file}	{Run a three-way file merge}}
\gray{\cmdS{merge-index}	{Run a merge for files needing merging}}
\gray{\cmdS{mktag}	{Creates a tag object}}
\gray{\cmdS{mktree}	{Build a tree-object from ls-tree formatted text}}
\gray{\cmdS{pack-objects}	{Create a packed archive of objects}}
\gray{\cmdS{prune-packed}	{Remove extra objects that are already in pack files}}
\gray{\cmdS{read-tree}	{Reads tree information into the index}}
\gray{\cmdS{symbolic-ref}	{Read and modify symbolic refs}}
\gray{\cmdL{unpack-objects}	{Unpack objects from a packed archive}}
\gray{\cmdS{update-index}	{Register file contents in the working tree to the index}}
\gray{\cmdS{update-ref}	{Update the object name stored in a ref safely}}
\gray{\cmdS{write-tree}	{Create a tree object from the current index}}

\section{Interrogators (plumbing)}{}
\gray{\cmdS{cat-file}	{Provide content or type and size information for repository objects}}
\gray{\cmdS{diff-files}	{Compares files in the working tree and the index}}
\gray{\cmdS{diff-index}	{Compares content and mode of blobs between the index and repository}}
\cmdS{diff-tree}	{\emergencystretch=5pt Compares the content and mode of blobs found via two tree objects}
\cmdOptLl{name-only}{show only names of files}
\gray{\cmdS{for-each-ref}	{Output information on each ref}}
\gray{\cmdS{ls-files}	{Show information about files in the index and the working tree}}
\gray{\cmdS{ls-remote}	{List references in a remote repository}}
\gray{\cmdS{ls-tree}	{List the contents of a tree object}}
\gray{\cmdS{merge-base}	{Find as good common ancestors as possible for a merge}}
\gray{\cmdS{name-rev}	{Find symbolic names for given revs}}
\gray{\cmdL{pack-redundant}	{Find redundant pack files}}
\gray{\cmdS{rev-list}	{Lists commit objects in reverse chronological order}}
\gray{\cmdS{show-index}	{Show packed archive index}}
\gray{\cmdS{show-ref}	{List references in a local repository}}
\gray{\cmdS{unpack-file}	{Creates a temporary file with a blobâ€™s contents}}
\gray{\cmdS{var}	{Show a git logical variable}}
\gray{\cmdS{verify-pack}	{Validate packed git archive files}}

\section{Synching repositories}{}
\gray{\cmdS{daemon}	{A really simple server for git repositories}}
\gray{\cmdS{fetch-pack}	{Receive missing objects from another repository}}
\gray{\cmdS{http-backend}	{Server side implementation of Git over HTTP}}
\gray{\cmdS{send-pack}	{Push objects over git protocol to another repository}}
\gray{\cmdL{update-server-info}	{Update auxiliary info file to help dumb servers}}

\section{Helper commands}{}
\gray{\cmdS{http-fetch}	{Download from a remote git repository via HTTP}}
\gray{\cmdS{http-push}	{Push objects over HTTP/DAV to another repository}}
\gray{\cmdS{parse-remote}	{Routines to help parsing remote repository access parameters}}
\gray{\cmdS{receive-pack}	{Receive what is pushed into the repository}}
\gray{\cmdS{shell}	{Restricted login shell foronly SSH access}}
\gray{\cmdL{upload-archive}	{Send archive back toarchive}}
\gray{\cmdS{upload-pack}	{Send objects packed back tofetch-pack}}

\section{Internal helper commands}{}
\gray{\cmdS{check-attr}	{Display gitattributes information}}
\gray{\cmdL{check-ref-format}	{Ensures that a reference name is well formed}}
\gray{\cmdL{fmt-merge-msg}	{Produce a merge commit message}}
\gray{\cmdS{mailinfo}	{Extracts patch and authorship from a single e-mail message}}
\gray{\cmdS{mailsplit}	{Simple UNIX mbox splitter program}}
\gray{\cmdL{merge-one-file}	{The standard helper program to use withmerge-index}}
\gray{\cmdS{patch-id}	{Compute unique ID for a patch}}
\gray{\cmdS{sh-setup}	{Common git shell script setup code}}
\gray{\cmdS{stripspace}	{Filter out empty lines}}

%% Footer
\copyrightnotice

% Ending
\supereject
\if L\lr \else\null\vfill\eject\fi
\if L\lr \else\null\vfill\eject\fi
\bye

% EOF
